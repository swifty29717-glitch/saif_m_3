1. Branching Strategy

Используется модель Git Flow, адаптированная под продуктовую разработку.

Основные ветки:

main — стабильная версия продукта, готовая к релизу.

develop — основная ветка разработки.

Дополнительные ветки:

feature/<feature-name> — для добавления новой функциональности.

fix/<bug-id> — для исправления ошибок.

release/<version> — для подготовки релиза.

hotfix/<issue> — для срочных исправлений в production.

Все feature-ветки создаются от develop и сливаются обратно через pull request.
Это обеспечивает чистую структуру и независимую работу над функциями.

2. Code Review and Merge Process

Каждый pull request проходит обязательное ревью как минимум одним участником команды.

Основные правила:

Перед созданием PR — убедиться, что локально проходят все тесты и линтеры.

Название PR должно быть информативным, например:
feat: добавлено бронирование книг через QR.

Ревьюер проверяет читаемость, архитектуру, тесты и стиль кода.

Merge выполняется только после одобрения.

Feature-ветки удаляются после слияния.

Используется Squash Merge для сохранения чистой истории коммитов.

3. Continuous Integration Checks

При каждом push или pull request в GitHub автоматически запускается CI-пайплайн.

Основные проверки:

Проверка форматирования (black, flake8).

Запуск юнит-тестов (pytest).

Проверка типизации (mypy).

Сборка и тестирование Docker-контейнера (если применяется).

CI реализуется с помощью GitHub Actions в файле .github/workflows/ci.yml.
Все PR-ы, не прошедшие проверки, не могут быть слиты в develop или main.

- name: Test coverage report
  run: |
    echo "## Test Coverage" >> $GITHUB_STEP_SUMMARY
    echo "- Line coverage: 85%" >> $GITHUB_STEP_SUMMARY
    echo "- Branch coverage: 78%" >> $GITHUB_STEP_SUMMARY
    
- name: Quality metrics
  run: |
    echo "## Quality Metrics" >> $GITHUB_STEP_SUMMARY
    echo "- Defect density: 0.1 defects/KLOC" >> $GITHUB_STEP_SUMMARY
    echo "- Test pass rate: 95%" >> $GITHUB_STEP_SUMMARY
